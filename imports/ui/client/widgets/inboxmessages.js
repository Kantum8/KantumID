import {Template} from 'meteor/templating';
import {$} from 'meteor/jquery';
import {Messages} from '/imports/api/messages.js';
import {Chats} from '/imports/api/chats.js'
import EmojiPanel from 'emoji-panel';

import './inboxmessages.html';

Meteor.subscribe('messages');
Meteor.subscribe('chats');



Template.inboxmessages.onCreated( function(){
  //Let you to create new chat
  address = Session.get('address');
  username = Session.get('connexionSigned').username;
  recipient = 'SkinCancerBot';
  chatId = `${address}${username}${recipient}`;
  content = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQCAYAAACAvzbMAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4QcOECIJgXuUUAAAIABJREFUeNrs3We0HWdht/1rZnYvZ5/eq47KUbO6jW254obBDYzpMZAQ00IJIetNeZ6VhFQgCQFTTH0oCRASYrBs427Zsi2rd+n03nvdfeb9IEFCYhwXzbH20f+3FosPrKXDntn7vuaeco+x5R7HQURE5GUytQlEREQBERERBURERBQQERFRQERERBQQERFRQERERAEREREFREREFBAREREFREREFBAREVFAREREAREREQVEREREAREREQVEREQUEBERUUBEREQBERERUUBEREQBERERBURERBQQERFRQERERBQQERFRQERERAEREREFREREFBAREREFREREFBAREVFAREREAREREQVEREREAREREQVEREQUEBERUUBEREQUEBERUUBEREQBERERBURERBQQERERBURERBQQERFRQERERAEREREFRERERAEREREFREREFBAREVFAREREAREREVFAREREAREREQVEREQUEBERUUBEREQUEBERUUBEREQBERERBURERBQQERERBURERBQQERFRQERERAEREREFRERERAEREREFREREFBAREVFAREREAREREVFAREREAREREQVEREQUEBEREQVEREQUEBERUUBEREQBERERBUREREQBERERBURERBQQERFRQERERAERERFRQERERAEREREFREREFBAREVFAREREFBAREVFAREREAREREQVEREQUEBEREQVEREQUEBERUUBEREQBERERBUREREQBERERBURERBQQERFRQERERAERERFRQERERAEREREFREREFBAREREFREREFBAREVFAREREARF5OQxwzvy3aPuIAiLykgdHs3cXazO7ybQ9rEHyBbZPsu1RViafI9j/JI62jyggIuAY4Ovfxe9sL+QPblnP2y9vUET+2y812fYYN2+t4A9uW8+Hr6oiNrhTEZHXlEebQM6FeAT6d3HnxQXcfukKokEvkWANHsvk+08+hnf568E+v+ORaH2MWy8s413bl9FYHGBFUQOmafD1J3cyVX4FhqPvkSw+q/KmP/szbQZ5LePh73+G911SyFu2r6Ao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";
  Meteor.call('chats.insert', chatId, content, recipient, 'bot');
});


Template.inboxmessages.onRendered( function(){
  //Let you to create new chat
  address = Session.get('address');
  username = Session.get('connexionSigned').username;
  recipient = 'MinisterAssistantBot';
  chatId = `${address}${username}${recipient}`;
  // Second chatbot
  image = 'data:image/png;base64,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';
  Meteor.call('chats.insert', chatId, image, recipient, 'bot');
/*
  content = 'Mr. Rheda citizens of Dubai are happy'
  Meteor.call('messages.insert', chatId, 'bot', 'text', content);
  id = Chats.find({chatId: chatId.chatId}).fetch();
  _id = '';
  id.forEach(function(entry) {
    _id = entry._id;
    return _id
  });
  Meteor.call('chats.updateLastMessage', _id, chatId, content)
  */
});



Template.inboxmessages.helpers({
  chats() {
    chats = Chats.find({}).fetch();
    chatsThread = [];
    chats.forEach(function(entry) {
      chatsThread.push(entry);
    });
    return chatsThread;
  },
  messages() {
    messages = Messages.find({chatId: Session.get('chatId')}).fetch();
    messagesThread = [];
    messages.forEach(function(entry) {
      messagesThread.push(entry);
    });
    return messagesThread;
  },
});


Template.inboxmessages.events({
  /*'submit .search'(event) {
    const searchFilter = {
      options: { valueNames: ['name'] },
      init() {
        const userList = new List('people-list', this.options);
        const noItems = $('<li id="no-items-found">No items found</li>');

        userList.on('updated', list => {
          if (list.matchingItems.length === 0) {
            $(list.list).append(noItems);
          } else {
            noItems.detach();
          }
        });
      }
    };

    searchFilter();
  },*/
  'click #smiley'(event) {
    new EmojiPanel(document.getElementById('example-3'));
    document.getElementById('smiley').addEventListener('click', () => {
      document.getElementById('example-3-container').classList.toggle('open');
    });
  },
  'click .person'(event) {
    currentTarget = event.currentTarget;
      if ($(currentTarget).hasClass('.active')) {
        return false;
      } else {
        const findChat = $(currentTarget).attr('data-chat');
        const personName = $(currentTarget).find('.name').text();
        let address = Session.get('address');
        let username = Session.get('connexionSigned').username;
        let chatId =
        {
          chatId: `${address}${username}${personName}`,
          recipient: personName
        }
        // Recipient can be undefined
        Session.set('chatId', chatId);
        $('.right .top .name').html(personName);
        $('.chat').removeClass('active-chat');
        $('.left .person').removeClass('active');
        $(currentTarget).addClass('active');
        $(`.chat[data-chat = ${findChat}]`).addClass('active-chat');
      }
    },
  'change #attach'(event, instance) {
    console.log(event);
    const image = $('#attach')[0].files[0];
    const fileReader = new FileReader()
    fileReader.readAsDataURL(image);
    fileReader.onload = () => {
      let images = fileReader.result;
      console.log(images);
      let content = images;
      let chatId = Session.get('chatId');
      Meteor.call('chats.insert', chatId.chatId, null, chatId.recipient);
      Meteor.call('messages.insert', chatId, 'user', 'image', content);
      document.getElementById("scroll-content").scrollTop += $('#scroll-content').height();

      // Call skin cancer api
      images = images.slice(22);
      url = 'https://cors-anywhere.herokuapp.com/http://skincancer.herokuapp.com/melanoma/predict';
      url = 'https://cors-anywhere.herokuapp.com/http://54.85.237.182:8080/melanoma/predict';
      HTTP.post(url, {
        data: [{"content": images}]
      }, (err, res) => {
        if (err) {
          console.log(err);
        } else {
          data = res.data[0];
          result = data.result;
          confidence = data.confidence * 100;
          if (result === 'negative') {
            // ${emoji.unifiedToHTML('🎉')}
            content = `🎉  Cool with a confidence level of ${confidence} % you don\'t have a skin cancer.`
          } else {
            content = `😞 I'm very sorry but with a confidence level of ${confidence} you have a skin cancer.`
          }
          Meteor.call('messages.insert', chatId, 'bot', 'text', content);
          id = Chats.find({chatId: chatId.chatId}).fetch();
          _id = '';
          id.forEach(function(entry) {
            _id = entry._id;
            return _id
          });
          Meteor.call('chats.updateLastMessage', _id, chatId, content)
        }
      });
      }
    },
    'click .smiley'(event) {
      new EmojiPanel(document.getElementById('smiley-panel'));
      document.getElementById('smiley-container').classList.toggle('open');
    },
    'submit .write'(event) {
      event.preventDefault();
      // Get value from form element
      let content = $('input#textSubmit').val();
      console.log(content);

      if (content.length !== 0) {
        currentTarget = event.currentTarget;
          if ($(currentTarget).hasClass('.active')) {
            return false;
          } else {
            let chatId = Session.get('chatId');
            Meteor.call('chats.insert', chatId.chatId, null, chatId.recipient);
            id = Chats.find({chatId: chatId.chatId}).fetch();
            _id = '';
            id.forEach(function(entry) {
              _id = entry._id;
              console.log(_id);
              return _id
            });
            Meteor.call('chats.updateLastMessage', _id, chatId, content)
            Meteor.call('messages.insert', chatId, 'user', 'text', content);
            document.getElementById("scroll-content").scrollTop += $('#scroll-content').height();
        //    document.getElementById("scroll-content").scrollBottom -= 10000000000;
          }
      $('input#textSubmit').val('').removeAttr('checked').removeAttr('selected');

    }
  },
});
